<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
   <h:head>
      <title>User Form</title>
      <!-- Inline style added -->
      <style nonce="#{sessionScope.cspNonce}">
          body {
              background-color: lightblue;
          }
          #username {
              border: 1px solid blue;
          }
      </style>
   </h:head>
   <h:body>
      <h:form>
         <h:outputLabel for="username">User Name</h:outputLabel>
         <h:inputText id="username" value="#{user.name}" required="true" requiredMessage="User Name is required" /><br/>
         <h:commandButton id="submit-button" value="Submit" action="response.xhtml"/>
      </h:form>

      <!-- Inline script to dynamically add another script -->
      <script nonce="#{sessionScope.cspNonce}">
          // Dynamically create a script element
          var scriptElement = document.createElement('script');
          
          // Set the nonce from the server-side session
        //  scriptElement.setAttribute('nonce', '#{sessionScope.cspNonce}');
          
          // Add some inline JavaScript code
          scriptElement.text = "console.log('Dynamically added script executed'); " +
                               "document.getElementById('username').style.backgroundColor = 'yellow';";
          
          // Append the script to the body (or any part of the DOM)
          document.body.appendChild(scriptElement);
      </script>
   </h:body>
</html>
